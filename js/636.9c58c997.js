"use strict";(self["webpackChunklegal_aid"]=self["webpackChunklegal_aid"]||[]).push([[636],{11798:function(e,r,s){s.r(r),s.d(r,{default:function(){return u}});var t=function(){var e=this,r=e._self._c;return r("div",[r("a-form-model",{ref:"formLogin",attrs:{rules:e.rules,model:e.formLogin},on:{submit:e.login},nativeOn:{submit:function(e){e.preventDefault()}}},[r("a-form-model-item",{attrs:{prop:"username"}},[r("a-input",{attrs:{placeholder:"请输入用户名",size:"large"},model:{value:e.formLogin.username,callback:function(r){e.$set(e.formLogin,"username",r)},expression:"formLogin.username"}},[r("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),r("a-form-model-item",{attrs:{prop:"password"}},[r("a-input",{attrs:{type:"password",placeholder:"请输入密码",size:"large"},model:{value:e.formLogin.password,callback:function(r){e.$set(e.formLogin,"password",r)},expression:"formLogin.password"}},[r("a-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),r("div",{staticClass:"row checkbox"},[r("a-form-model-item",[r("a-checkbox",{attrs:{checked:e.formLogin.checked},on:{change:e.rememberMe}},[e._v(" 记住登录状态 ")])],1)],1),r("a-form-model-item",[r("a-button",{attrs:{type:"primary",block:"","html-type":"submit",size:"large",loading:e.loading}},[e._v(" 登 录 ")])],1)],1),r("div",{staticClass:"row remember-me"},[r("div",{staticClass:"col"},[r("router-link",{attrs:{to:{name:"register"},target:"_blank"}},[e._v("立即注册")])],1),r("div",{staticClass:"col text-end"},[r("router-link",{attrs:{to:{name:"getPass"},target:"_blank"}},[e._v("忘记密码")])],1)])],1)},o=[],a=s(18091),i=s(81639),n=s.n(i),m={name:"LoginAccount",data(){return{formLogin:{username:"",password:"",checked:!1},loading:!1,rules:{username:[{required:!0,message:"请输入用户名！",trigger:"blur"}],password:[{required:!0,message:"请输入密码！",trigger:"blur"}]}}},methods:{login(){this.$refs.formLogin.validate((e=>{if(!e)return this.$message.error("请先规范填写表单！"),!1;this.loading=!0;const{username:r,password:s,checked:t}=this.formLogin;(0,a.Z)({method:"post",url:"/ouser/login",params:{username:r,password:s}}).then((e=>{if(1===e.code){const r=e.data;n().set("token",r,(new Date).getTime()+6048e5),t&&n().set("rememberMe",!0,(new Date).getTime()+6048e5),this.$message.success("登录成功！"),this.$router.push({name:"home"})}else this.$message.error(e.msg),this.formLogin={username:"",password:"",checked:!1}})).catch((e=>{this.$message.error("服务器错误！"),console.log(e)})),this.loading=!1,this.formLogin={username:"",password:"",checked:!1}}))},rememberMe(){this.formLogin.checked=!this.formLogin.checked}}},l=m,c=s(1001),d=(0,c.Z)(l,t,o,!1,null,"ef9e6eb4",null),u=d.exports}}]);
//# sourceMappingURL=636.9c58c997.js.map